#:import utils kivy.utils
#: import Window kivy.core.window.Window

<AdminWindow>:
    id: 'main'
    orientation: "vertical"
    canvas.before:
        Color:
            rgb: utils.get_color_from_hex('#ffffff')
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            id: wid
            size_hint_y: None
            height: 30

            Button:
                id: file_trigger
                text: 'Quit'
                on_release: Window.close()
                size_hint_x: .1

            Button:
                id: file_trigger
                text: 'Logout'
                size_hint_x: .1
                on_release: root.logout()

            Label:
                text: 'Admin Dashboard'
                bold: True
                size_hint_x: .8
                height: 30
                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex('#5B2437')
                    Rectangle:
                        size: self.size
                        pos: self.pos

        BoxLayout:
            spacing: 20
            id: content_nav

            BoxLayout:
                spacing: 20
                id: nav_tabs
                size_hint_x: .2
                orientation: 'vertical'
                canvas.before:
                    Color:
                        rgba: (.06, .52, .52,1)
                    Rectangle:
                        size: self.size
                        pos: self.pos

                ToggleButton:
                    id: user_toggle
                    text: 'Manage Users'
                    size_hint_y: 1
                    state: 'down'
                    background_color: (.06, .47, .47, 1)
                    background_normal: ''
                    group: 'admin_navs'
                    on_state: root.change_screen(self)

                ToggleButton:
                    id: user_toggle
                    text: 'Manage Products'
                    size_hint_y: 1
                    background_color: (.06, .47, .47, 1)
                    background_normal: ''
                    group: 'admin_navs'
                    on_state: root.change_screen(self)

                ToggleButton:
                    id: user_toggle
                    text: 'Point Of Sale'
                    size_hint_y: 1
                    background_color: (.06, .47, .47, 1)
                    background_normal: ''
                    group: 'admin_navs'
                    on_state: root.change_screen(self)


                ToggleButton:
                    id: user_toggle
                    text: 'Sales'
                    size_hint_y: 1
                    background_color: (.06, .47, .47, 1)
                    background_normal: ''
                    group: 'admin_navs'
                    on_state: root.change_screen(self)


                Label:
                    text : ''

            BoxLayout:
                padding: 10
                id: all_content
                size_hint_x: .8
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex('#ffffff')
                    Rectangle:
                        size: self.size
                        pos: self.pos

                ScreenManager:
                    padding: 10
                    id: scrn_mngr
                    Screen:
                        id: scrn_content_manage_users
                        name: 'scrn_content_manage_users'
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10

                            BoxLayout:
                                id: scrn_contents

                            BoxLayout:
                                id: ops_fields
                                spacing: 10
                                size_hint_y: None
                                height: 35

                            BoxLayout:
                                id: ops_btns
                                spacing: 10
                                size_hint_y: None
                                height: 45
                                Button:
                                    id: crud_add
                                    text: 'Add User'
                                    on_release: root.add_user_fields()
                                Button:
                                    id: crud_update
                                    text: 'Update User'
                                    on_release: root.update_user_fields()
                                Button:
                                    id: crud_remove
                                    text: 'Remove User'
                                    on_release: root.remove_user_fields()
                    Screen:
                        id: scrn_product_content
                        name: 'scrn_product_content'
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10
                            BoxLayout:
                                id: scrn_product_contents
                            BoxLayout:
                                id: ops_fields_p
                                spacing: 10
                                size_hint_y: None
                                height: 35
                            BoxLayout:
                                id: ops_btns_p
                                spacing: 10
                                size_hint_y: None
                                height: 45
                                Button:
                                    id: crud_add_p
                                    text: 'Add New Product'
                                    on_release: root.add_product_fields()
                                Button:
                                    id: crud_update_p
                                    text: 'Update Product'
                                    on_release: root.update_product_fields()
                                Button:
                                    id: crud_remove_p
                                    text: 'Remove Product'
                                    on_release: root.remove_product_fields()
                                Button:
                                    id: crud_search_p
                                    text: 'Search product'
                                    on_release: root.search_Field()
                                Button:
                                    id: crud_search_p
                                    text: 'Create Prod Cat'
                                    on_release: root.add_product_category_field()
                                Button:
                                    id: crud_search_p
                                    text: 'Product Categories'
                                    on_release: root.view_categories()

                    Screen:
                        id: scrn_analysis
                        name: 'scrn_analysis'
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10
                            BoxLayout:
                                # orientation: 'vertical'
                                size_hint_y: None
                                height: 45
                                Spinner:
                                    id: target_product
                                    text: 'Choose Product'
                                Button:
                                    id: submit_analysis
                                    text: 'View Stats'
                                    size_hint_x: .3
                                    on_release: root.view_stats()
                            BoxLayout:
                                id: analysis_res


                    Screen:
                        id: scrn_product_categorized
                        name: 'scrn_product_categorized'
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10

                        BoxLayout:
                            id: display_categorized_products

                        BoxLayout:
                            id: analysis_res



                    Screen:
                        id: screen_search_product
                        name: 'screen_search_product'
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10

                        BoxLayout:
                            id: display_searched_products

                        BoxLayout:
                            id: analysis_res



                    Screen:
                        id: screen_display_sales
                        name: 'screen_display_sales'
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10

                            BoxLayout:
                                spacing: 20
                                orientation: 'horizontal'
                                size_hint_y:.4

                                TextInput:
                                    size_hint_x: .6
                                    id: the_sales
                                    hint_text: " Search by date"

                                Button:
                                    size_hint_x: .4
                                    id: crud_search_p
                                    text: 'Find'
                                    on_release: root.searchForTheDates()

                            BoxLayout:
                                size_hint_y: 6
                                id: display_sales

                        BoxLayout:
                            id: analysis_res



        BoxLayout:
            size_hint_y: None
            height: 30
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex('#5B2437')
                Rectangle:
                    pos: self.pos
                    size: self.size
            id: footer
            Label:
                text: "System Maintained by Cocab Tech Solutions (0729836000)"